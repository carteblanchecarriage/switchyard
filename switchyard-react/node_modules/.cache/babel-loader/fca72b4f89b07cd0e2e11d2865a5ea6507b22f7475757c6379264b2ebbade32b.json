{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const categories=[{id:'all',label:'All Products'},{id:'keyboard',label:'Keyboards'},{id:'switches',label:'Switches'},{id:'keycaps',label:'Keycaps'},{id:'artisan',label:'Artisan'},{id:'case',label:'Cases'}];function App(){const[products,setProducts]=useState([]);const[filteredProducts,setFilteredProducts]=useState([]);const[activeCategory,setActiveCategory]=useState('all');const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[displayLimit,setDisplayLimit]=useState(12);useEffect(()=>{fetch('/data.json').then(res=>res.json()).then(data=>{const allProducts=data.allProducts||data.groupBuys||[];setProducts(allProducts);setFilteredProducts(allProducts);setLoading(false);}).catch(err=>{console.error('Error loading data:',err);setError('Failed to load products');setLoading(false);});},[]);const handleCategoryChange=category=>{setActiveCategory(category);if(category==='all'){setFilteredProducts(products);}else{setFilteredProducts(products.filter(p=>p.category===category));}setDisplayLimit(12);};const loadMore=()=>{setDisplayLimit(prev=>prev+12);};const displayedProducts=filteredProducts.slice(0,displayLimit);const hasMore=filteredProducts.length>displayLimit;if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading products...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Switchyard\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mechanical Keyboard Tracker\"})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"nav\",children:categories.map(cat=>/*#__PURE__*/_jsx(\"button\",{className:activeCategory===cat.id?'active':'',onClick:()=>handleCategoryChange(cat.id),children:cat.label},cat.id))})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats\",children:[filteredProducts.length,\" products\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-grid\",children:displayedProducts.map(product=>/*#__PURE__*/_jsx(\"div\",{className:\"product-card\",children:/*#__PURE__*/_jsxs(\"a\",{href:product.url,target:\"_blank\",rel:\"noopener noreferrer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image\",children:product.image?/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name}):/*#__PURE__*/_jsx(\"div\",{className:\"no-image\",children:\"No Image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"vendor\",children:product.vendor}),/*#__PURE__*/_jsx(\"h3\",{className:\"name\",children:product.name}),/*#__PURE__*/_jsx(\"span\",{className:\"price\",children:product.price||'Check Price'}),/*#__PURE__*/_jsx(\"span\",{className:\"category\",children:product.category})]})]})},product.id))}),hasMore&&/*#__PURE__*/_jsx(\"div\",{className:\"load-more\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:loadMore,children:[\"Load More (\",filteredProducts.length-displayLimit,\" remaining)\"]})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","categories","id","label","App","products","setProducts","filteredProducts","setFilteredProducts","activeCategory","setActiveCategory","loading","setLoading","error","setError","displayLimit","setDisplayLimit","fetch","then","res","json","data","allProducts","groupBuys","catch","err","console","handleCategoryChange","category","filter","p","loadMore","prev","displayedProducts","slice","hasMore","length","className","children","map","cat","onClick","product","href","url","target","rel","image","src","alt","name","vendor","price"],"sources":["/home/klondike/Desktop/keyboard-tracker/switchyard-react/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n\ninterface Product {\n  id: string;\n  name: string;\n  url: string;\n  image?: string;\n  price?: string;\n  vendor?: string;\n  category?: string;\n  description?: string;\n}\n\nconst categories = [\n  { id: 'all', label: 'All Products' },\n  { id: 'keyboard', label: 'Keyboards' },\n  { id: 'switches', label: 'Switches' },\n  { id: 'keycaps', label: 'Keycaps' },\n  { id: 'artisan', label: 'Artisan' },\n  { id: 'case', label: 'Cases' },\n];\n\nfunction App() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [filteredProducts, setFilteredProducts] = useState<Product[]>([]);\n  const [activeCategory, setActiveCategory] = useState('all');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [displayLimit, setDisplayLimit] = useState(12);\n\n  useEffect(() => {\n    fetch('/data.json')\n      .then(res => res.json())\n      .then(data => {\n        const allProducts: Product[] = data.allProducts || data.groupBuys || [];\n        setProducts(allProducts);\n        setFilteredProducts(allProducts);\n        setLoading(false);\n      })\n      .catch(err => {\n        console.error('Error loading data:', err);\n        setError('Failed to load products');\n        setLoading(false);\n      });\n  }, []);\n\n  const handleCategoryChange = (category: string) => {\n    setActiveCategory(category);\n    if (category === 'all') {\n      setFilteredProducts(products);\n    } else {\n      setFilteredProducts(products.filter(p => p.category === category));\n    }\n    setDisplayLimit(12);\n  };\n\n  const loadMore = () => {\n    setDisplayLimit(prev => prev + 12);\n  };\n\n  const displayedProducts = filteredProducts.slice(0, displayLimit);\n  const hasMore = filteredProducts.length > displayLimit;\n\n  if (loading) {\n    return <div className=\"loading\">Loading products...</div>;\n  }\n\n  if (error) {\n    return <div className=\"error\">{error}</div>;\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"header\">\n        <div className=\"logo\">\n          <h1>Switchyard</h1>\n          <span>Mechanical Keyboard Tracker</span>\n        </div>\n        <nav className=\"nav\">\n          {categories.map(cat => (\n            <button\n              key={cat.id}\n              className={activeCategory === cat.id ? 'active' : ''}\n              onClick={() => handleCategoryChange(cat.id)}\n            >\n              {cat.label}\n            </button>\n          ))}\n        </nav>\n      </header>\n\n      <main className=\"main\">\n        <div className=\"stats\">\n          {filteredProducts.length} products\n        </div>\n\n        <div className=\"product-grid\">\n          {displayedProducts.map(product => (\n            <div key={product.id} className=\"product-card\">\n              <a href={product.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                <div className=\"product-image\">\n                  {product.image ? (\n                    <img src={product.image} alt={product.name} />\n                  ) : (\n                    <div className=\"no-image\">No Image</div>\n                  )}\n                </div>\n                <div className=\"product-info\">\n                  <span className=\"vendor\">{product.vendor}</span>\n                  <h3 className=\"name\">{product.name}</h3>\n                  <span className=\"price\">{product.price || 'Check Price'}</span>\n                  <span className=\"category\">{product.category}</span>\n                </div>\n              </a>\n            </div>\n          ))}\n        </div>\n\n        {hasMore && (\n          <div className=\"load-more\">\n            <button onClick={loadMore}>\n              Load More ({filteredProducts.length - displayLimit} remaining)\n            </button>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}